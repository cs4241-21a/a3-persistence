<!doctype html>
<html lang='en'>
  <head>
    <title>A3 Login</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">

    <link href="https://fonts.googleapis.com/css?family=Press+Start+2P" rel="stylesheet">
    <link type="text/css" href="./node_modules/nes.css/css/nes.min.css">
    <link rel="stylesheet" type="text/css" href="../css/style.css">
    <style>
      html, body, pre, code, kbd, samp {
          font-family: "Press Start 2P";
      }
    </style>
  </head>
  <body>
    <form action='/login' class="loginForm" method='POST'>
      <input type='text' name='username'>
      <input type='password' name='password'>
      <button id="login" class="nes-btn">Log In</button>
    </form>

    <form action='/register' class="loginForm" method='POST'>
      <input type='text' name='username'>
      <input type='password' name='password'>
      <button id="register" class="nes-btn">Register</button>
    </form>
  </body>
  <script>
    const login = function(e){
      e.preventDefault();

      fetch('/login',{
      method: 'POST',
      body: body,
      headers:{
        "Content-Type":"application/json"
      }
      })
      .then(function (response){
        response.text().then(function(textdata) {
          console.log(JSON.parse(textdata));
          usernameVar = JSON.parse(textdata);

          makeTableFromData(newAppdata);
        })
      })

      return false;
    }

    const register = function(e){
      e.preventDefault();

      fetch('/register',{
        method: 'POST',
        body: body,
        headers:{
          "Content-Type":"application/json"
        }
      })
      .then(function (response){
        //do something with the reponse 
          response.text().then(function(textdata) {
          console.log(JSON.parse(textdata));
          let newAppdata = JSON.parse(textdata);

          makeTableFromData(newAppdata);
        })
      })

    return false;
    }

  </script>
</html>